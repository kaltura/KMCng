<div class="entries grid-noGutter">

  <div class="accordionHolder">
      <kFiltersAccordion style="width: 300px" (categoriesChanged)="categoriesChanged($event)" (metadataProfileFilterChanged)="metadataProfileFilterChanged($event)"></kFiltersAccordion>
  </div>

  <div class="entriesHolder grid-column-noGutter col-12">
      <div class="headerFilters col-12">
        <div>
          <span *ngIf="(contentEntriesStore.entries$ | async)?.totalCount">{{(contentEntriesStore.entries$ | async)?.totalCount}} Entries</span>
          <span *ngIf="selectedEntries.length" style="font-weight: bold"> * {{selectedEntries.length}} Selected</span>
        </div>
        <form [formGroup]="searchForm">
          <input type="text" pInputText formControlName="searchText" (onenter)="freetextValue = $event.target.value" (keyup.enter)="onFreetextChanged()" placeholder="Search Entries">
        </form>
        <button style="float: right; margin-top: 12px; margin-right: 8px" pButton type="text" (click)="reload()" icon="fa-refresh" label="Refresh" title="Refresh"></button>
      </div>
      <div *ngIf="showTags" class="tags">
        <div style="height: 20px; background-color: #cacaca; border: 1px solid grey; border-radius: 15px; width: 100px; margin-top: 10px; margin-left: 10px; text-align: center; padding: 5px">Filter 1</div>
      </div>

      <kEntriesTable class="grid-column-noGutter col" style="border: 1px solid grey;" [entries]="(contentEntriesStore.entries$ | async)?.items" [filter]="filter" [(selectedEntries)]="selectedEntries" [loading]="loading" (sortChanged)="onSortChanged($event)" (actionSelected)="onActionSelected($event)"></kEntriesTable>

      <div class="footer col-12" #footer>
        <button class="bulkActions" [disabled]="!selectedEntries.length" type="button" pButton icon="fa fa-list" label="Bulk Actions" (click)="menu.toggle($event)"></button>
        <p-paginator [rows]="filter.pageSize" (onPageChange)="onPaginationChanged($event)" [first]="filter.pageIndex * filter.pageSize" [totalRecords]="(contentEntriesStore.entries$ | async)?.totalCount" [rowsPerPageOptions]="[25,50,100,250,500]"></p-paginator>
      </div>
    <p-tieredMenu #menu [model]="bulkActionsMenu" [popup]="true" [styleClass]="menu"></p-tieredMenu>
  </div>
</div>
