<kLoader [loading]="(_handler._conversionProfiles$ | async)?.loading || _handler._regeneratingToken" [loadingError]="_loadingError" (onActionRequested)="_onLoadingAction($event)">
	<div class="kLive">
		<p class="kTitle">{{'applications.content.entryDetails.live.live' | translate}}</p>
		<div class="kLiveDetails">

			<div *ngIf="_handler._liveType !== 'manual'">
				<span class="kSubTitle">{{'applications.content.entryDetails.live.urls' | translate}}</span>
				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.primary' | translate}}</span>
					<div>
						<span #primaryBroadcastingUrl>{{_handler.data?.primaryBroadcastingUrl}}</span>
						<button *ngIf="_copyToClipboardEnabled" pButton class="kButtonDefault kCopyBtn" (click)="_copyToClipboard(primaryBroadcastingUrl.textContent)" icon="kIconcalendar" pTooltip="{{'app.common.copyToClipboard' | translate}}"></button>
					</div>
				</div>
				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.backup' | translate}}</span>
					<div>
						<span #secondaryBroadcastingUrl>{{_handler.data?.secondaryBroadcastingUrl}}</span>
						<button *ngIf="_copyToClipboardEnabled" pButton class="kButtonDefault kCopyBtn" (click)="_copyToClipboard(secondaryBroadcastingUrl.textContent)" icon="kIconcalendar" pTooltip="{{'app.common.copyToClipboard' | translate}}"></button>
					</div>
				</div>
			</div>

			<div class="kRow" *ngIf="_handler._liveType === 'kaltura'">
				<span class="kLabels"></span>
				<button pButton (click)="_regenerateToken()" class="kButtonDefault" label="{{'applications.content.entryDetails.live.regenerate' | translate}}" pTooltip="{{'applications.content.entryDetails.live.regenerateTooltip' | translate}}" tooltipPosition="top"></button>
			</div>

			<div *ngIf="_handler._liveType !== 'manual'">
				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.streamName' | translate}}</span>
					<span>{{_handler.data?.streamName.replace('%i', '1')}}</span>
				</div>
				<div class="kRow">
					<span class="kLabels"></span>
					<span>{{'applications.content.entryDetails.live.note' | translate}}</span>
				</div>
				<div class="kRow">
					<span class="kLabels"></span>
					<button pButton class="kButtonDefault" label="{{'applications.content.entryDetails.live.export' | translate}}"></button>
					<a  *ngIf="_handler._liveType === 'kaltura'" class="kReportLink">{{'applications.content.entryDetails.live.report' | translate}}</a>
				</div>
			</div>

			<div *ngIf="_handler._liveType !== 'manual'">
				<span class="kSubTitle">{{'applications.content.entryDetails.live.config' | translate}}</span>
				<div *ngIf="_handler._liveType === 'universal'">
					<div class="kRow">
						<span class="kLabels">{{'applications.content.entryDetails.live.hlsStream' | translate}}</span>
						<span>{{_handler.data?.hlsStreamUrl}}</span>
					</div>
					<div class="kRow">
						<span class="kLabels">{{'applications.content.entryDetails.live.akamaiStream' | translate}}</span>
						<span>{{_handler.data?.streamRemoteId}}</span>
					</div>
				</div>

				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.dvrStatus' | translate}}</span>
					<span>{{_handler._DVRStatus}}</span>
				</div>
				<div class="kRow" *ngIf="_handler._showDVRWindow">
					<span class="kLabels">{{'applications.content.entryDetails.live.dvrWindow' | translate}}</span>
					<span>{{_handler.data?.dvrWindow | kTime}} {{'applications.content.entryDetails.live.hours' | translate}}</span>
				</div>
				<div class="kRow" *ngIf="_handler._liveType === 'kaltura'">
					<span class="kLabels">{{'applications.content.entryDetails.live.activeRec' | translate}}</span>
					<span>{{_handler._recordStatus}}</span>
				</div>
			</div>

			<div  *ngIf="_handler._liveType === 'kaltura'">
				<span class="kSubTitle">{{'applications.content.entryDetails.live.transcoding' | translate}}</span>
				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.transcodingProfile' | translate}}</span>
					<p-dropdown [options]="(_handler._conversionProfiles$ | async)?.items" [(ngModel)]="_handler._selectedConversionProfile"></p-dropdown>
				</div>
			</div>

			<div *ngIf="_handler._liveType === 'universal'">
				<span class="kSubTitle">{{'applications.content.entryDetails.live.bitrateConfig' | translate}}</span>
				<span class="kNote">{{'applications.content.entryDetails.live.bitrateDoc' | translate}}</span>
				<div class="kRow kTableHeader">
					<span class="kLiveNumber"></span>
					<span class="kLiveBitrateCB"></span>
					<span class="kLiveBitrate">{{'applications.content.entryDetails.live.bitrate' | translate}}</span>
					<span class="kLiveWidth">{{'applications.content.entryDetails.live.width' | translate}}</span>
					<span class="kLiveX"></span>
					<span class="kLiveHeight">{{'applications.content.entryDetails.live.height' | translate}}</span>
				</div>
				<div class="kRow">
					<span class="kLiveNumber">1.</span>
					<div class="kLiveBitrateCB"><p-checkbox binary="true"></p-checkbox></div>
					<div class="kLiveBitrate">
						<p-dropdown></p-dropdown>
						<span class="kLiveBitrate kLiveKbps"> Kbps</span>
					</div>
					<div class="kLiveWidth"><p-spinner size="5" [min]="0" [max]="9999"></p-spinner></div>
					<span class="kLiveX">x</span>
					<div class="kLiveHeight"><p-spinner size="5" [min]="0" [max]="9999"></p-spinner></div>
				</div>
				<div class="kRow">
					<span class="kLiveNumber">2.</span>
					<div class="kLiveBitrateCB"><p-checkbox binary="true"></p-checkbox></div>
					<div class="kLiveBitrate">
						<p-dropdown></p-dropdown>
						<span class="kLiveBitrate kLiveKbps"> Kbps</span>
					</div>
					<div class="kLiveWidth"><p-spinner size="5" [min]="0" [max]="9999"></p-spinner></div>
					<span class="kLiveX">x</span>
					<div class="kLiveHeight"><p-spinner size="5" [min]="0" [max]="9999"></p-spinner></div>
				</div>
				<div class="kRow">
					<span class="kLiveNumber">3.</span>
					<div class="kLiveBitrateCB"><p-checkbox binary="true"></p-checkbox></div>
					<div class="kLiveBitrate">
						<p-dropdown></p-dropdown>
						<span class="kLiveBitrate kLiveKbps"> Kbps</span>
					</div>
					<div class="kLiveWidth"><p-spinner size="5" [min]="0" [max]="9999"></p-spinner></div>
					<span class="kLiveX">x</span>
					<div class="kLiveHeight"><p-spinner size="5" [min]="0" [max]="9999"></p-spinner></div>
				</div>

				<span class="kSubTitle">{{'applications.content.entryDetails.live.credentials' | translate}}</span>
				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.username' | translate}}</span>
					<span>{{_handler.data?.streamUsername}}</span>
				</div>
				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.password' | translate}}</span>
					<span>{{_handler.data?.streamPassword}}</span>
				</div>

				<span class="kSubTitle">{{'applications.content.entryDetails.live.encoders' | translate}}</span>
				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.primaryIP' | translate}}</span>
					<span>{{_handler.data?.encodingIP1}}</span>
				</div>
				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.secondaryIP' | translate}}</span>
					<span>{{_handler.data?.encodingIP1}}</span>
				</div>
			</div>

			<div *ngIf="_handler._liveType === 'manual'">
				<div class="kRow">
					<span class="kLabels">{{'applications.content.entryDetails.live.hlsStream' | translate}}</span>
					<span>{{_handler.data?.hlsStreamUrl}}</span>
				</div>
				<div class="kRow"> <!-- loop through liveStreamConfigurations array -->
					<span class="kLabels">{{'applications.content.entryDetails.live.streamUrl' | translate}}</span>
					<span></span>
				</div>
			</div>

		</div>
	</div>
	<p-growl [value]="_handler._msgs"></p-growl>
	<p-confirmDialog header="{{'applications.content.entryDetails.live.regeneratePromptHeader' | translate}}" width="425"></p-confirmDialog>
</kLoader>
