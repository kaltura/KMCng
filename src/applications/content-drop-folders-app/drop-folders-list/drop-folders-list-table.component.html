<div class="kDropFoldersTableWrapper" kFillHeight>
  <div class="kDropFoldersTable" [class.noResults]="!_dropFolders.length">
    <p-dataTable #dataTable
                 [scrollable]="true"
                 scrollHeight="100%"
                 dataKey="id"
                 [value]="_dropFolders"
                 (selectionChange)="onSelectedDropFoldersChange.emit($event)"
                 [(selection)]="selectedDropFolders">
      <p-column styleClass="kSelectionColumn" selectionMode="multiple"></p-column>
      <p-column styleClass="kFileNameColumn" field="fileName"
                [header]="'applications.content.dropFolders.table.fileName' | translate"
                [sortable]="false">
        <ng-template let-col let-folder="rowData" pTemplate="body">
          {{ folder[col.field] }}
        </ng-template>
      </p-column>
      <p-column field="dropFolderId"
                [header]="'applications.content.dropFolders.table.dropFolderName' | translate"
                [sortable]="false">
        <ng-template let-col let-folder="rowData" pTemplate="body">
          {{ folder[col.field] | folderName:folder }}
        </ng-template>
      </p-column>
      <p-column field="createdAt"
                [header]="'applications.content.dropFolders.table.createdOn' | translate"
                [sortable]="false">
        <ng-template let-col let-folder="rowData" pTemplate="body">
          <span [kTooltip]="dateTooltip(folder)">{{ folder[col.field] | date: 'dd/MM/yy' }}</span>
        </ng-template>
      </p-column>
      <p-column field="fileSize"
                [header]="'applications.content.dropFolders.table.fileSize' | translate"
                [sortable]="false">
        <ng-template let-col let-folder="rowData" pTemplate="body">
          {{ folder[col.field] | kFileSize }}
        </ng-template>
      </p-column>
      <p-column field="entryId"
                [header]="'applications.content.dropFolders.table.entryId' | translate"
                [sortable]="false">
        <ng-template let-col let-folder="rowData" pTemplate="body">
          <a (click)="isExistEntry(folder)">{{ folder[col.field] }}</a>
        </ng-template>
      </p-column>
      <p-column field="status"
                [header]="'applications.content.dropFolders.table.status' | translate"
                [sortable]="false">
        <ng-template let-col let-folder="rowData" pTemplate="body">
          <div class="kStatusWrap">
            <div [ngClass]="folder.status | folderFileStatus: true: false" class="kDropFolderStatusIcon"></div>
            <div class="kStatusLabel" [kTooltip]="folder.status | folderFileStatus: false: true">
              {{ folder[col.field] | folderFileStatus: false: false }}
            </div>
          </div>
        </ng-template>
      </p-column>
      <p-column header="" styleClass="actionsColumn">
        <ng-template let-col let-folder="rowData" pTemplate="body" let-i="rowIndex">
          <div class="kDropFoldersTableActions">
            <button type="button" pButton icon="kIconmore" (click)="openActionsMenu($event, i, folder)"></button>
          </div>
        </ng-template>
      </p-column>
    </p-dataTable>
    <p-menu #actionsmenu popup="popup" [model]="_items" [appendTo]="'body'"></p-menu>
  </div>
</div>
