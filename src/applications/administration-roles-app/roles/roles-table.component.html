<k-area-blocker [showLoader]="(rolesService.roles.state$ | async)?.loading || this._deferredLoading"
                [message]="_blockerMessage" [bodyScroll]="true">
  <div class="kRolesTable" [class.noResults]="!_roles?.length">
    <p-dataTable #dataTable
                 [value]="_roles"
                 scrollable="true"
                 scrollHeight="100%"
                 dataKey="id"
                 [rowTrackBy]="_rowTrackBy"
                 [emptyMessage]="_emptyMessage"
                 kStickyHeader [sticksTo]="'rolesFilters'" stickyClass="stickyHeader" [stickyId]="'rolesTable'">
      <p-column field="name" styleClass="kTableFullName"
                header="{{'applications.administration.roles.tableColumns.role' | translate}}" [sortable]="false">
        <ng-template let-col let-role="rowData" pTemplate="body">
          <span class="kRoleName">{{role[col.field]}}</span>
          <i *ngIf="role.partnerId === 0" class="kIconuser kIconAdminRole" [kTooltip]="role[col.field]"></i>
        </ng-template>
      </p-column>
      <p-column field="description"
                header="{{'applications.administration.roles.tableColumns.description' | translate}}" [sortable]="false"
                [style]="{'width':'250px'}"></p-column>
      <p-column field="updatedAt" header="{{'applications.administration.roles.tableColumns.saveDate' | translate}}"
                [sortable]="false" [style]="{'width':'60px'}">
        <ng-template let-col let-role="rowData" pTemplate="body">
          <span>{{role[col.field] | kDate}}</span>
        </ng-template>
      </p-column>
      <p-column header="" [style]="{'overflow':'visible', 'width':'80px'}" [sortable]="false">
        <ng-template let-col let-role="rowData" pTemplate="body">
          <div class="kRolesTableActions">
            <button type="button" pButton icon="kIconmore" [disabled]="role.partnerId === 0" class="kMoreActionsButton"
                    (click)="_openActionsMenu($event, role)"></button>
          </div>
        </ng-template>
      </p-column>
    </p-dataTable>
    <p-menu #actionsmenu popup="popup" [model]="_items" [appendTo]="'body'" kMenuCloseOnScroll></p-menu>
  </div>
</k-area-blocker>
