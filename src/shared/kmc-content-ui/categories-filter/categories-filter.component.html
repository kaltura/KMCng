<div style="padding-top: 20px">
    <div style="padding-left: 20px">
        <p-autoComplete [(ngModel)]="currentSearch" [suggestions]="filteredSearchCategories" (completeMethod)="categorySearch($event)" field="label" placeholder="Search Categories" [minLength]="3" (onSelect)="categorySelected($event)"></p-autoComplete>
        <p><span style="margin-right: 66px">Auto select children: </span><p-toggleButton [(ngModel)]="autoSelectChildren"></p-toggleButton></p>
        <p class="allCategories">ALL CATEGORIES {{searchCategories.length && !lazyLoading ? searchCategories.length : ''}}</p>
    </div>
    <p-tree [autoSelectChildren]="autoSelectChildren" [value]="categories" selectionMode="checkbox" [(selection)]="selectedCategories" (onNodeSelect)="onCategorySelectionChange($event)" (onNodeUnselect)="onCategorySelectionChange($event)">
    <template let-node  pTemplate type="default">
        <span class="kTreeNodeLabel">{{node.label}}</span>
        <span class="kTreeNodeNumChildren" *ngIf="node.children && node.children.length">{{node.children.length}}</span>
    </template>
    </p-tree>

    <p style="padding-left: 20px">
        <a class="clearAll" [class.disabled]="selectedCategories.length === 0" (click)="clearAll()">Clear all</a>
    </p>
</div>
